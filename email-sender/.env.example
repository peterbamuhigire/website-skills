# Email Sender SMTP Configuration
# Copy this to .env.local and fill in YOUR values
# .env.local is gitignored — never commit secrets

# === REQUIRED: SMTP Server Credentials ===
# Get these from your email hosting provider (Godaddy, Bluehost, etc.)

SMTP_HOST=mail.yourdomain.com
# SMTP server address (ask your hosting provider)

SMTP_PORT=587
# 587 for TLS (most common)
# 465 for SSL (older, less common)
# Do NOT use port 25 (often blocked by ISPs)

SMTP_SECURE=true
# true = use TLS/SSL encryption
# false = no encryption (NOT recommended)

SMTP_USER=noreply@yourdomain.com
# Dedicated email account for website
# Format: something@yourdomain.com (must own the domain)

SMTP_PASSWORD=your_secure_password_here
# Generated by hosting provider — treat as SECRET
# NEVER hardcode this in source code
# NEVER commit to git

SMTP_FROM_NAME=Your Company Name
# Display name that appears in "From: Your Company Name <email@domain>"

SMTP_FROM_EMAIL=noreply@yourdomain.com
# "From" email address (typically same as SMTP_USER)

# === REQUIRED: Domain Authentication ===
# You MUST configure these DNS records at your domain registrar
# Without them, emails go to spam!

# SPF Record (tells mail servers we're authorized to send)
# TXT Record: v=spf1 include:mail.yourdomain.com ~all

# DKIM Record (digital signature for emails)
# Get from hosting provider, add as TXT or CNAME record

# DMARC Record (policy for authentication failures)
# TXT Record: v=DMARC1; p=quarantine; rua=mailto:dmarc@yourdomain.com

# Verify at: https://mxtoolbox.com (search your domain)
# Look for: SPF=pass, DKIM=pass, DMARC=pass

# === OPTIONAL: Rate Limiting ===

RATE_LIMIT_EMAILS_PER_HOUR=5
# Max emails per IP per hour
# Adjust based on expected volume
# 5 = most sites, 20 = high-volume contact page

RATE_LIMIT_WINDOW_MINUTES=60
# Rolling window for rate limiting (usually 60 minutes)

# === OPTIONAL: Spam Detection ===

SPAM_CHECK_ENABLED=true
# true = enable content-based spam detection
# Detects: viagra, casino, malicious HTML, long URLs

# === OPTIONAL: CAPTCHA (Bot Prevention) ===
# Get keys from https://www.google.com/recaptcha/admin

PUBLIC_RECAPTCHA_SITE_KEY=your_site_key_here
# Public key (can be exposed, used in HTML)

RECAPTCHA_SECRET_KEY=your_secret_key_here
# Secret key (NEVER expose, server-side only)
# Treat as SECRET like SMTP password

# === OPTIONAL: Audit Logging ===

AUDIT_LOG_PATH=/var/log/website-emails.log
# Path to audit log file (must be writable by web server)
# Logs all email submissions for security review

ALERT_ADMIN_ON_RATE_LIMIT=true
# true = email admin when rate limit is hit
# false = silently rate limit

ALERT_EMAIL=admin@yourdomain.com
# Email address for rate limit alerts and error notifications

CONTACT_EMAIL=contact@yourdomain.com
# Email address where contact form submissions go
# (if different from SMTP_USER)

# === SECURITY WARNINGS ===
# 1. NEVER commit .env.local to git
# 2. NEVER share this file with clients
# 3. NEVER hardcode credentials in code
# 4. Use strong passwords for SMTP_USER account
# 5. Enable 2FA on email hosting account
# 6. Review audit logs regularly
# 7. Verify SPF/DKIM/DMARC before going live

# === HOW TO FIND YOUR SMTP SETTINGS ===
# If you don't know your SMTP settings:
# 1. Log into your hosting account (Godaddy, Bluehost, etc.)
# 2. Look for "Email" or "Mail Settings"
# 3. Find "SMTP Server" or "Mail Server"
# 4. Check port (usually 587 or 465)
# 5. Create a new email account if needed
# 6. Update this file with those settings

# === TESTING ===
# After configuring:
# 1. Verify SMTP credentials work
# 2. Test email sending from contact form
# 3. Check email arrives in inbox (not spam)
# 4. Monitor audit logs
# 5. Test rate limiting (submit 6 times quickly)
